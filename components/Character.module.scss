.char {
  position: relative;
  width: min-content;
  max-width: 100%;
  font-weight: 400;
  font-size: 128px;
  line-height: 1.2;
  white-space: pre;
  text-align: center;
  border: 3px dashed var(--mono-3);
  border-radius: var(--radius-4);
  margin-inline: auto;
}

.char-inner {
  display: block;
  margin: 0 -100%;
}

.char-measure {
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
  width: 100%;
  height: 100%;
  pointer-events: none;
  container-name: measure;
  container-type: inline-size;
}

.measure {
  position: absolute;
  display: block;
  color: var(--mono-8);
  font-weight: 700;
  font-size: 10px;

  &::before {
    position: absolute;
    display: block;
    background: var(--mono-4);
    content: '';
  }
}

.measure-value {
  display: inline-block;
  padding-block-start: 0.2em;

  &::before {
    content: '0.1';
  }
}

.measure-height-value {
  display: inline-block;
  padding-block-end: 0.2em;
}

.measure-width {
  top: calc(100% + var(--space-4));
  left: 50%;
  width: 12.8px;
  transform: translateX(-50%);

  &::before {
    top: 0;
    left: 0;
    width: 100%;
    height: 1px;
  }
}

@for $i from 2 through 20 {
  $percent: $i / 10;
  $width: 128px * $percent;

  @container (width >= #{$width - 6.4px}) {
    .measure-width {
      width: $width;
    }

    .measure-value::before {
      content: '#{$percent}';
    }
  }
}

.measure-height {
  top: 50%;
  left: calc(100% + var(--space-4));
  height: 128px;
  text-orientation: mixed;
  transform: translateY(-64px);
  writing-mode: vertical-rl;

  &::before {
    top: 0;
    left: 0;
    width: 1px;
    height: 100%;
  }
}

.tick {
  position: absolute;
  display: block;
  background: var(--mono-4);
}

.measure-width .tick {
  bottom: 100%;
  width: 1px;
  height: 0.4em;
}

.measure-width .tick1 {
  left: 0;
}

.measure-width .tick2 {
  right: 0;
}

.measure-height .tick {
  right: 100%;
  width: 0.4em;
  height: 1px;
}

.measure-height .tick1 {
  top: 0;
}

.measure-height .tick2 {
  bottom: 0;
}
